---
import MainLayout from '../layouts/MainLayout.astro'
---

<script>
import gsap from 'gsap'
import { ScrollTrigger } from 'gsap/ScrollTrigger'

gsap.registerPlugin(ScrollTrigger)

customElements.define('exp-12', class extends HTMLElement {
  constructor() { super() }

  connectedCallback() {
    const svg = this.querySelector('svg') as SVGElement
    const img = this.querySelector('img') as HTMLElement

    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: svg,
        start: '-50% 0',
        end: '100% 25%',
        scrub: 1,
      }
    })
    tl.from(img, {
        yPercent: 25,
        scale: 1.5
      })
  }
})
</script>

<MainLayout>
  <exp-12>
    <section></section>
    <section>
      <img src="/images/img16.webp" alt="Abstract image">

      <svg viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">
        <defs>
          <mask id="mask" x="0" y="0" width="100%" height="100%">
            <rect x="0" y="0" width="100%" height="100%" />
            <text x="50%" y="50%" text-anchor="middle" dominant-baseline="middle">FORRA√ê</text>
          </mask>
        </defs>
        <rect x="0" y="0" width="100%" height="100%" />
      </svg>
    </section>
    <section></section>
  </exp-12>
</MainLayout>

<style>
  exp-12 {
    width: 100%;
    min-height: 100vh;
    section {
      width: 100%;
      height: 100vh;
      display: grid;
      place-content: center;
      overflow: hidden;
      position: relative;
      img {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }
      svg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        filter: invert();
        text {
          font-size: 1rem;
          font-weight: var(--font-bold);
          letter-spacing: -.2rem;
        }
        rect {
          fill: white;
          mask: url(#mask);
        }
      }
    }
  }
</style>
